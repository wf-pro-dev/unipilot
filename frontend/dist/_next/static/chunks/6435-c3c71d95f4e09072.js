"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6435],{86435:function(e,s,a){a.d(s,{d:function(){return el}});var t=a(57437),l=a(2265),n=a(35974),i=a(62869),r=a(26110),c=a(84190),d=a(71533),o=a(15868),m=a(96362),x=a(18930),u=a(31047),h=a(48736),j=a(52255),f=a(91438),p=a(62153),N=a(21653),g=a(6512),v=a(90277),y=a(94508);let w=v.fC;v.xz;let b=v.h_,C=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.aV,{className:(0,y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});C.displayName=v.aV.displayName;let z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(b,{children:[(0,t.jsx)(C,{}),(0,t.jsx)(v.VY,{ref:s,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});z.displayName=v.VY.displayName;let D=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};D.displayName="AlertDialogHeader";let k=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};k.displayName="AlertDialogFooter";let S=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.Dx,{ref:s,className:(0,y.cn)("text-lg font-semibold",a),...l})});S.displayName=v.Dx.displayName;let Z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.dk,{ref:s,className:(0,y.cn)("text-sm text-muted-foreground",a),...l})});Z.displayName=v.dk.displayName;let F=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.aU,{ref:s,className:(0,y.cn)((0,i.d)(),a),...l})});F.displayName=v.aU.displayName;let M=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.$j,{ref:s,className:(0,y.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});M.displayName=v.$j.displayName;var T=a(42208),E=a(92735),P=a(17689),B=a(91723),U=a(46564);function A(e){var s;let{document:a}=e,[r,o]=(0,l.useState)(!1),m=(0,U.bj)(),u=(0,U.rT)(),f=(0,U.wO)(),p=(0,U.a$)(),N=async()=>{if(a.HasLocalFile)try{await m.mutateAsync(a.ID)}catch(e){console.error("Failed to open document:",e)}},g=async()=>{if(a.HasLocalFile)try{await u.mutateAsync(a.ID)}catch(e){console.error("Failed to save document:",e)}},v=async()=>{try{await p.mutateAsync(a.ID)}catch(e){console.error("Failed to upload new version:",e)}},y=async()=>{try{await f.mutateAsync(a.ID),o(!1)}catch(e){console.error("Failed to delete document:",e)}},b=m.isPending||u.isPending||f.isPending||p.isPending;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:" flex items-center justify-between  bg-gray-800/50  border border-gray-600  p-2.5 rounded-lg  text-white hover:bg-accent/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(null===(s=a.FileName.split(".").pop())||void 0===s||s.toLowerCase(),(0,t.jsx)(h.Z,{className:"h-4 w-4"}))}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:a.FileName}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)(c.h_,{children:[(0,t.jsx)(c.$F,{asChild:!0,children:(0,t.jsx)(i.z,{size:"sm",variant:"ghost",className:"p-0",disabled:b,children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(c.AW,{align:"end",children:[(0,t.jsxs)(c.Xi,{onClick:N,disabled:!a.HasLocalFile,children:[(0,t.jsx)(T.Z,{className:"h-4 w-4"}),"Open"]}),(0,t.jsxs)(c.Xi,{onClick:g,disabled:!a.HasLocalFile,children:[(0,t.jsx)(E.Z,{className:"h-4 w-4"}),"Save As..."]}),(0,t.jsxs)(c.Xi,{onClick:v,children:[(0,t.jsx)(P.Z,{className:"h-4 w-4"}),"Upload New Version"]}),(0,t.jsxs)(c.Xi,{onClick:()=>o(!0),className:"text-red-600 hover:text-red-600",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),"Delete"]})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-x-1.5 items-center",children:[(0,t.jsx)(n.C,{variant:"secondary",className:"text-xs ".concat("support"===a.Type?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"),children:"support"===a.Type?"Support":"Submission"}),(0,t.jsxs)(n.C,{variant:"outline",className:"text-xs",children:["v",a.Version]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:(e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]})(a.FileSize)}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(B.Z,{className:"h-3 w-3"}),(0,j.WU)(new Date(a.UpdatedAt),"MMM d, yyyy hh:mm a")]})]})]})]})}),(0,t.jsx)(w,{open:r,onOpenChange:o,children:(0,t.jsxs)(z,{children:[(0,t.jsxs)(D,{children:[(0,t.jsx)(S,{children:"Delete Document"}),(0,t.jsxs)(Z,{children:['Are you sure you want to delete "',a.FileName,'"? This action cannot be undone.']})]}),(0,t.jsxs)(k,{children:[(0,t.jsx)(M,{children:"Cancel"}),(0,t.jsx)(F,{onClick:y,className:"bg-red-600 hover:bg-red-700",disabled:b,children:"Delete"})]})]})})]})}var L=a(26815),I=a(53647),V=a(32759),_=a(33245),O=a(49322),R=a(92934);function W(e){let{isOpen:s,onClose:a,onUploadComplete:c,assignmentId:d,documentType:o}=e,[m,x]=(0,l.useState)(o),[u,j]=(0,l.useState)(null),[f,p]=(0,l.useState)(null),N=(0,U.TO)(),g=async()=>{j(null),p(null);try{let e=await N.mutateAsync({assignmentId:d,documentType:m});e&&(p('Successfully uploaded "'.concat(e.FileName,'"')),setTimeout(()=>{c(),v()},1500))}catch(e){console.error("Upload failed:",e),j(e instanceof Error?e.message:"Upload failed")}},v=()=>{N.isPending||(j(null),p(null),a())};return(0,t.jsx)(r.Vq,{open:s,onOpenChange:v,children:(0,t.jsxs)(r.cZ,{className:"sm:max-w-md",children:[(0,t.jsx)(r.fK,{children:(0,t.jsxs)(r.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"h-5 w-5"}),"Upload Document"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L._,{htmlFor:"document-type",children:"Document Type"}),(0,t.jsxs)(I.Ph,{value:m,onValueChange:e=>x(e),disabled:N.isPending,children:[(0,t.jsx)(I.i4,{children:(0,t.jsx)(I.ki,{})}),(0,t.jsxs)(I.Bw,{children:[(0,t.jsx)(I.Ql,{value:"support",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),"Support Document"]})}),(0,t.jsx)(I.Ql,{value:"submission",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),"Submission"]})})]})]})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"support"===m?(0,t.jsx)("p",{children:"Support documents are reference materials, instructions, or resources related to this assignment."}):(0,t.jsx)("p",{children:"Submissions are your completed work or deliverables for this assignment."})}),(0,t.jsx)("div",{className:"rounded-lg border p-3 bg-muted/50",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,t.jsx)("p",{className:"font-medium",children:"File Limits:"}),(0,t.jsxs)("ul",{className:"space-y-0.5 text-muted-foreground",children:[(0,t.jsx)("li",{children:"• Maximum file size: 50 MB"}),(0,t.jsx)("li",{children:"• Maximum per assignment: 200 MB"}),(0,t.jsx)("li",{children:"• Total storage limit: 2 GB"})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(L._,{className:"text-sm font-medium",children:"Supported Formats"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:["PDF documents (.pdf)","Microsoft Word (.doc, .docx)","PowerPoint (.ppt, .pptx)","Excel (.xls, .xlsx)","Text files (.txt, .md)","Images (.png, .jpg, .jpeg, .gif, .bmp, .svg)"].map(e=>(0,t.jsx)(n.C,{variant:"secondary",className:"text-xs",children:e},e))})]}),u&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-red-200 bg-red-50 text-red-700",children:[(0,t.jsx)(O.Z,{className:"h-4 w-4"}),(0,t.jsx)("p",{className:"text-sm",children:u})]}),f&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-green-200 bg-green-50 text-green-700",children:[(0,t.jsx)(R.Z,{className:"h-4 w-4"}),(0,t.jsx)("p",{className:"text-sm",children:f})]}),N.isPending&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Uploading..."}),(0,t.jsx)("span",{children:"Please wait"})]}),(0,t.jsx)(V.E,{value:void 0,className:"h-2"})]})]}),(0,t.jsxs)(r.cN,{children:[(0,t.jsx)(i.z,{variant:"outline",onClick:v,disabled:N.isPending,children:"Cancel"}),(0,t.jsx)(i.z,{onClick:g,disabled:N.isPending,children:N.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),"Select & Upload"]})})]})]})})}var X=a(57054),$=a(84428),G=a(82431);function H(){let{data:e,isLoading:s,refetch:a}=(0,U.Vi)(),l=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]},r=()=>e?Math.min(e.TotalSize/2147483648*100,100):0;return(0,t.jsxs)(X.J2,{children:[(0,t.jsx)(X.xo,{asChild:!0,children:(0,t.jsx)(i.z,{variant:"outline",size:"sm",className:"h-8",children:(0,t.jsx)($.Z,{className:"w-4 h-4"})})}),(0,t.jsx)(X.yk,{className:"w-80",align:"end",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Storage Usage"}),(0,t.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>a(),disabled:s,className:"p-0 w-8 h-8",children:(0,t.jsx)(G.Z,{className:"h-4 w-4 ".concat(s?"animate-spin":"")})})]}),e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{children:"Used Storage"}),(0,t.jsxs)("span",{className:"font-medium",children:[l(e.TotalSize)," / 2 GB"]})]}),(0,t.jsx)(V.E,{value:r(),className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-center ".concat((()=>{let e=r();return e>=90?"text-red-500":e>=75?"text-yellow-500":"text-blue-500"})()),children:[Math.round(r()),"% used"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.DocumentCount}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Documents"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:l(e.TotalSize)}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Used"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[r()>=90&&(0,t.jsx)(n.C,{variant:"destructive",className:"justify-center w-full",children:"Storage Almost Full"}),r()>=75&&90>r()&&(0,t.jsx)(n.C,{variant:"secondary",className:"justify-center w-full text-yellow-700 bg-yellow-500/20",children:"Storage Getting Full"})]}),(0,t.jsxs)("div",{className:"text-xs text-center text-muted-foreground",children:["Last updated: ",new Date(e.LastCalculatedAt).toLocaleString()]})]}):s?(0,t.jsxs)("div",{className:"flex justify-center items-center py-4",children:[(0,t.jsx)(G.Z,{className:"mr-2 w-4 h-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:"Loading storage info..."})]}):(0,t.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,t.jsxs)(i.z,{variant:"outline",onClick:()=>a(),size:"sm",children:[(0,t.jsx)(_.Z,{className:"mr-2 w-4 h-4"}),"Load Storage Info"]})}),(0,t.jsx)("div",{className:"pt-3 border-t",children:(0,t.jsxs)("div",{className:"space-y-1 text-xs text-muted-foreground",children:[(0,t.jsx)("div",{className:"font-medium",children:"Storage Limits:"}),(0,t.jsx)("div",{children:"• Max file size: 50 MB"}),(0,t.jsx)("div",{children:"• Max per assignment: 200 MB"}),(0,t.jsx)("div",{children:"• Total limit: 2 GB"})]})})]})})]})}var K=a(14924),Y=a(87117),q=a(44743),J=a(92451),Q=a(10407),ee=a(9467);function es(e){var s,a,r,c;let{assignment:d}=e,[o,m]=(0,l.useState)("all"),[x,u]=(0,l.useState)(!1),[j,f]=(0,l.useState)("support"),[p,N]=(0,l.useState)(0),[v,y]=(0,ee.Z)({align:"start",containScroll:"trimSnaps",dragFree:!1,skipSnaps:!1}),w=(0,l.useCallback)(()=>{y&&N(y.selectedScrollSnap())},[y]);(0,l.useEffect)(()=>{if(y)return w(),y.on("select",w),()=>{y.off("select",w)}},[y,w]),(0,l.useEffect)(()=>{N(0),y&&y.scrollTo(0)},[o,y]);let{allDocuments:b,supportDocuments:C,submissionDocuments:z,isLoading:D,error:k}=(0,U.di)(d.ID),S=(()=>{switch(o){case"support":return C.data||[];case"submission":return z.data||[];default:return b.data||[]}})(),Z=[];for(let e=0;e<S.length;e+=4)Z.push(S.slice(e,e+4));let F=(0,l.useCallback)(()=>{y&&y.scrollPrev()},[y]),M=(0,l.useCallback)(()=>{y&&y.scrollNext()},[y]);(0,l.useCallback)(e=>{y&&y.scrollTo(e)},[y]);let T=e=>{f(e),u(!0)};return D?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Documents"})]}),(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading documents..."})})]}):k?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Documents"})]}),(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)("div",{className:"text-sm text-red-500",children:"Failed to load documents"})})]}):(0,t.jsxs)("div",{className:"space-y-4 ",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Documents"}),(0,t.jsx)(n.C,{variant:"secondary",className:"ml-2",children:(null===(s=b.data)||void 0===s?void 0:s.length)||0})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(i.z,{variant:"outline",size:"sm",className:"h-8",onClick:()=>T("submission"===o?"submission":"support"),children:(0,t.jsx)(P.Z,{className:"w-4 h-4"})}),(0,t.jsx)(H,{})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsxs)(i.z,{variant:"all"===o?"default":"outline",size:"sm",onClick:()=>m("all"),className:"h-8",children:[(0,t.jsx)(K.Z,{className:"mr-1 w-4 h-4"}),"All (",(null===(a=b.data)||void 0===a?void 0:a.length)||0,")"]}),(0,t.jsxs)(i.z,{variant:"support"===o?"default":"outline",size:"sm",onClick:()=>m("support"),className:"h-8",children:[(0,t.jsx)(Y.Z,{className:"mr-1 w-4 h-4"}),"Support (",(null===(r=C.data)||void 0===r?void 0:r.length)||0,")"]}),(0,t.jsxs)(i.z,{variant:"submission"===o?"default":"outline",size:"sm",onClick:()=>m("submission"),className:"h-8",children:[(0,t.jsx)(q.Z,{className:"mr-1 w-4 h-4"}),"Submissions (",(null===(c=z.data)||void 0===c?void 0:c.length)||0,")"]})]}),Z.length>1&&(0,t.jsx)(n.C,{variant:"outline",className:"flex items-center p-2 bg-gray-800/50 border border-gray-600 rounded-full",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[p+1," / ",(0,t.jsx)("span",{className:"text-white",children:Z.length})]})})]}),(0,t.jsx)(g.Z,{}),(0,t.jsx)("div",{className:"flex flex-col",children:S.length>0?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"overflow-hidden",ref:v,children:(0,t.jsx)("div",{className:"flex",children:Z.map((e,s)=>(0,t.jsx)("div",{className:"flex-none w-full min-w-0",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4",children:e.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(A,{document:e})},e.ID))})},s))})}),Z.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.z,{variant:"outline",size:"icon",className:"left-0 absolute rounded-full top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-gray-800/50 border border-gray-600",onClick:F,children:(0,t.jsx)(J.Z,{className:"h-4 w-4"})}),(0,t.jsx)(i.z,{variant:"outline",size:"icon",className:"right-0 absolute rounded-full top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-gray-800/50 border border-gray-600",onClick:M,children:(0,t.jsx)(Q.Z,{className:"h-4 w-4"})})]})]}):(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center py-8 text-center",children:[(0,t.jsx)(h.Z,{className:"mb-2 w-12 h-12 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"all"===o?"No documents uploaded yet":"support"===o?"No support documents uploaded yet":"No submissions uploaded yet"}),(0,t.jsxs)(i.z,{size:"sm",variant:"outline",onClick:()=>T("submission"===o?"submission":"support"),className:"mt-2 h-8",children:[(0,t.jsx)(P.Z,{className:"mr-1 w-4 h-4"}),"Upload Document"]})]})}),(0,t.jsx)(W,{isOpen:x,onClose:()=>u(!1),onUploadComplete:()=>{u(!1)},assignmentId:d.ID,documentType:j})]})}let ea={low:"text-green-400 border-green-400 bg-green-500/10",medium:"text-yellow-400 border-yellow-400 bg-yellow-500/10",high:"text-red-400 border-red-400 bg-red-500/10"},et={HW:"bg-blue-500/20 text-blue-400",Exam:"bg-red-500/20 text-red-400"};function el(e){var s,a;let{isOpen:g,onClose:v,assignment:y,onEdit:w,onDelete:b}=e,[C,z]=(0,l.useState)(!1);if(!y)return null;let D=(0,f.vu)(y.Deadline),k=(0,f.cF)(D,y.StatusName),S=(0,f.jf)(D);return(0,t.jsx)(r.Vq,{open:g,onOpenChange:v,children:(0,t.jsxs)(r.cZ,{className:"glass border-0 text-white max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(r.fK,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)(r.$N,{className:"text-xl font-semibold text-white",children:y.Title}),(0,t.jsxs)(c.h_,{children:[(0,t.jsx)(c.$F,{asChild:!0,children:(0,t.jsx)(i.z,{variant:"ghost",size:"sm",className:"p-0 w-6 h-6",children:(0,t.jsx)(d.Z,{className:"w-4 h-4"})})}),(0,t.jsxs)(c.AW,{align:"end",className:"border-gray-600 glass",children:[(0,t.jsxs)(c.Xi,{onClick:()=>w(y,"title",y.Title),children:[(0,t.jsx)(o.Z,{className:"mr-2 w-4 h-4"}),"Edit"]}),(0,t.jsxs)(c.Xi,{onClick:()=>{(0,p.W8)(y.Link)},children:[(0,t.jsx)(m.Z,{className:"mr-2 w-4 h-4"}),"Open Link"]}),(0,t.jsxs)(c.Xi,{onClick:()=>b(y),className:"text-red-400 hover:text-red-300",children:[(0,t.jsx)(x.Z,{className:"mr-2 w-4 h-4"}),"Delete"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.N,{assignment:y,onEdit:w}),(0,t.jsx)(n.C,{variant:"outline",className:"text-sm ".concat(ea[y.Priority]),children:y.Priority}),(0,t.jsx)(n.C,{variant:"outline",className:"text-sm font-semibold ".concat(et[y.TypeName]),children:y.TypeName})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null===(s=y.Course)||void 0===s?void 0:s.Color)}),(0,t.jsx)("span",{children:"Course"})]}),(0,t.jsx)("p",{className:"font-medium text-white",children:null===(a=y.Course)||void 0===a?void 0:a.Name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Deadline"})]}),(0,t.jsx)(n.C,{variant:"outline",className:"".concat(k?"text-red-400":S<0?"text-gray-400":"text-yellow-400"),children:(0,f.R8)(D,y.StatusName)})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)("p",{className:"font-medium text-white",children:(0,j.WU)(D,"EEEE, MMMM d, yyyy")})})]})]}),y.Todo&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Description"})]}),(0,t.jsx)(i.z,{variant:"link",size:"sm",className:"text-sm text-blue-400 hover:text-blue-300",onClick:()=>z(!C),children:C?"Show less":"Show more"})]}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-gray-600 p-3 rounded-lg",children:(0,t.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed text-sm text-white ".concat(C?"block":"line-clamp-4"),children:y.Todo})})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-gray-600",children:(0,t.jsx)(es,{assignment:y})})]})]})})}},21653:function(e,s,a){a.d(s,{N:function(){return c}});var t=a(57437),l=a(35974),n=a(84190),i=a(62869);let r={"Not started":"bg-gray-500/20 text-gray-400","In progress":"bg-blue-500/20 text-blue-400",Done:"bg-green-500/20 text-green-400"};function c(e){let{assignment:s,onEdit:a}=e,c=e=>{a(s,"status_name",e)};return(0,t.jsxs)(n.h_,{children:[(0,t.jsx)(n.$F,{asChild:!0,children:(0,t.jsx)(i.z,{variant:"ghost",size:"sm",className:"p-0",children:(0,t.jsx)(l.C,{variant:"outline",className:"text-xs ".concat(r[s.StatusName]),children:s.StatusName})})}),(0,t.jsx)(n.AW,{align:"end",className:"glass border-gray-600",children:Object.keys(r).map(e=>(0,t.jsx)(n.Xi,{onClick:()=>c(e),children:(0,t.jsx)(l.C,{variant:"outline",className:"text-xs ".concat(r[e]),children:e})},e))})]})}},57054:function(e,s,a){a.d(s,{J2:function(){return r},xo:function(){return c},yk:function(){return d}});var t=a(57437),l=a(2265),n=a(27312),i=a(94508);let r=n.fC,c=n.xz,d=l.forwardRef((e,s)=>{let{className:a,align:l="center",sideOffset:r=4,...c}=e;return(0,t.jsx)(n.h_,{children:(0,t.jsx)(n.VY,{ref:s,align:l,sideOffset:r,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c})})});d.displayName=n.VY.displayName},32759:function(e,s,a){a.d(s,{E:function(){return r}});var t=a(57437),l=a(2265),n=a(60610),i=a(94508);let r=l.forwardRef((e,s)=>{let{className:a,value:l,...r}=e;return(0,t.jsx)(n.fC,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:(0,t.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});r.displayName=n.fC.displayName},91438:function(e,s,a){a.d(s,{R8:function(){return m},cF:function(){return o},jf:function(){return d},rF:function(){return c},vu:function(){return r}});var t=a(52255),l=a(32864),n=a(56614),i=a(42845);function r(e){if(e instanceof Date)return e;if("string"==typeof e)try{let s=new Date(e);if(isNaN(s.getTime()))return console.warn("Invalid deadline format:",e),new Date;return s}catch(s){return console.warn("Error parsing deadline:",e,s),new Date}try{let s=new Date(e);if(isNaN(s.getTime()))return console.warn("Invalid deadline value:",e),new Date;return s}catch(s){return console.warn("Error creating Date from deadline:",e,s),new Date}}function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM d, yyyy";try{return(0,t.WU)(e,s)}catch(s){return console.warn("Error formatting date:",e,s),e.toLocaleDateString()}}function d(e){var s=(0,l.j)(e,new Date);return s<=0?s:s+1}function o(e,s){return 0>d(e)&&"Done"!==s}function m(e,s){if("Done"===s)return"Completed";let a=d(e);return a<0?"".concat(Math.abs(a)," days overdue"):(0,n.z)(e)?"Due today":(0,i.P)(e)?"Due tomorrow":"".concat(a," days left")}}}]);