"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{4404:function(e,s,a){a.d(s,{d:function(){return ed}});var t=a(7437),l=a(2265),i=a(5974),r=a(2869),n=a(6110),d=a(4190),c=a(1533),o=a(5868),m=a(6362),x=a(8930),u=a(1047),h=a(8736),p=a(2255),f=a(1438),j=a(2153),N=a(1653),g=a(6512),y=a(277),v=a(4508);let w=y.fC;y.xz;let b=y.h_,F=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(y.aV,{className:(0,v.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});F.displayName=y.aV.displayName;let C=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(b,{children:[(0,t.jsx)(F,{}),(0,t.jsx)(y.VY,{ref:s,className:(0,v.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});C.displayName=y.VY.displayName;let D=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,v.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};D.displayName="AlertDialogHeader";let z=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,v.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};z.displayName="AlertDialogFooter";let S=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(y.Dx,{ref:s,className:(0,v.cn)("text-lg font-semibold",a),...l})});S.displayName=y.Dx.displayName;let k=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(y.dk,{ref:s,className:(0,v.cn)("text-sm text-muted-foreground",a),...l})});k.displayName=y.dk.displayName;let Z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(y.aU,{ref:s,className:(0,v.cn)((0,r.d)(),a),...l})});Z.displayName=y.aU.displayName;let A=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(y.$j,{ref:s,className:(0,v.cn)((0,r.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});A.displayName=y.$j.displayName;var E=a(2208),M=a(2735),T=a(7689),q=a(1723),L=a(1713),U=a(9827),B=a(1770);let K={all:["documents"],lists:()=>[...K.all,"list"],list:e=>[...K.lists(),{assignmentId:e}],support:e=>[...K.all,"support",e],submissions:e=>[...K.all,"submissions",e],storage:()=>[...K.all,"storage"]};function Q(){return(0,L.a)({queryKey:K.storage(),queryFn:async()=>{try{return await window.go.main.App.GetUserStorageInfo()}catch(e){throw(0,j.F0)("Failed to fetch storage info: "+e),Error(e instanceof Error?e.message:"Failed to fetch storage info")}},staleTime:3e5,gcTime:9e5})}function P(e){var s;let{document:a}=e,[n,o]=(0,l.useState)(!1),m=(0,B.D)({mutationFn:async e=>await window.go.main.App.OpenDocument(e),onError:e=>{(0,j.F0)("Failed to open document: "+e)}}),u=(0,B.D)({mutationFn:async e=>await window.go.main.App.SaveDocumentAs(e),onError:e=>{(0,j.F0)("Failed to save document: "+e)}}),f=function(){let e=(0,U.NL)();return(0,B.D)({mutationFn:async e=>await window.go.main.App.DeleteDocument(e),onMutate:async s=>{let a=e.getQueriesData({queryKey:K.lists()}),t=[];return a.forEach(a=>{let[l,i]=a;i&&Array.isArray(i)&&i.some(e=>e.ID===s)&&(t.push([l,i]),e.setQueryData(l,e=>e?e.filter(e=>e.ID!==s):[]))}),{previousData:t}},onError:(s,a,t)=>{(null==t?void 0:t.previousData)&&t.previousData.forEach(s=>{let[a,t]=s;e.setQueryData(a,t)}),(0,j.F0)("Failed to delete document: "+s)},onSuccess:()=>{e.invalidateQueries({queryKey:K.storage()})},onSettled:()=>{e.invalidateQueries({queryKey:K.all})}})}(),N=function(){let e=(0,U.NL)();return(0,B.D)({mutationFn:async e=>await window.go.main.App.UploadNewDocumentVersion(e),onSuccess:(s,a)=>{s&&(e.getQueriesData({queryKey:K.lists()}).forEach(t=>{let[l,i]=t;i&&Array.isArray(i)&&i.some(e=>e.ID===a)&&e.setQueryData(l,e=>e?e.map(e=>e.ID===a?s:e):[])}),e.invalidateQueries({queryKey:K.storage()}))},onError:e=>{(0,j.F0)("Failed to upload document version: "+e)}})}(),g=async()=>{if(a.HasLocalFile)try{await m.mutateAsync(a.ID)}catch(e){console.error("Failed to open document:",e)}},y=async()=>{if(a.HasLocalFile)try{await u.mutateAsync(a.ID)}catch(e){console.error("Failed to save document:",e)}},v=async()=>{try{await N.mutateAsync(a.ID)}catch(e){console.error("Failed to upload new version:",e)}},b=async()=>{try{await f.mutateAsync(a.ID),o(!1)}catch(e){console.error("Failed to delete document:",e)}},F=m.isPending||u.isPending||f.isPending||N.isPending;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:" flex items-center justify-between  bg-gray-800/50  border border-gray-600  p-2 rounded-lg  text-white hover:bg-accent/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(null===(s=a.FileName.split(".").pop())||void 0===s||s.toLowerCase(),(0,t.jsx)(h.Z,{className:"h-4 w-4"}))}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:a.FileName}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)(d.h_,{children:[(0,t.jsx)(d.$F,{asChild:!0,children:(0,t.jsx)(r.z,{size:"sm",variant:"ghost",className:"p-0",disabled:F,children:(0,t.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(d.AW,{align:"end",children:[(0,t.jsxs)(d.Xi,{onClick:g,disabled:!a.HasLocalFile,children:[(0,t.jsx)(E.Z,{className:"h-4 w-4"}),"Open"]}),(0,t.jsxs)(d.Xi,{onClick:y,disabled:!a.HasLocalFile,children:[(0,t.jsx)(M.Z,{className:"h-4 w-4"}),"Save As..."]}),(0,t.jsxs)(d.Xi,{onClick:v,children:[(0,t.jsx)(T.Z,{className:"h-4 w-4"}),"Upload New Version"]}),(0,t.jsxs)(d.Xi,{onClick:()=>o(!0),className:"text-red-600 hover:text-red-600",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),"Delete"]})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-x-1.5 items-center",children:[(0,t.jsx)(i.C,{variant:"secondary",className:"text-xs ".concat("support"===a.Type?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"),children:"support"===a.Type?"Support":"Submission"}),(0,t.jsxs)(i.C,{variant:"outline",className:"text-xs",children:["v",a.Version]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:(e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]})(a.FileSize)}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(q.Z,{className:"h-3 w-3"}),(0,p.WU)(new Date(a.UpdatedAt),"MMM d, yyyy hh:mm a")]})]})]})]})}),(0,t.jsx)(w,{open:n,onOpenChange:o,children:(0,t.jsxs)(C,{children:[(0,t.jsxs)(D,{children:[(0,t.jsx)(S,{children:"Delete Document"}),(0,t.jsxs)(k,{children:['Are you sure you want to delete "',a.FileName,'"? This action cannot be undone.']})]}),(0,t.jsxs)(z,{children:[(0,t.jsx)(A,{children:"Cancel"}),(0,t.jsx)(Z,{onClick:b,className:"bg-red-600 hover:bg-red-700",disabled:F,children:"Delete"})]})]})})]})}var _=a(6815),I=a(3647),R=a(2759),V=a(3245),G=a(9322),O=a(2934);function $(e){let{isOpen:s,onClose:a,onUploadComplete:d,assignmentId:c,documentType:o}=e,[m,x]=(0,l.useState)(o),[u,p]=(0,l.useState)(null),[f,N]=(0,l.useState)(null),g=function(){let e=(0,U.NL)();return(0,B.D)({mutationFn:async e=>{let{assignmentId:s,documentType:a}=e;return await window.go.main.App.UploadDocument(s,a)},onMutate:async s=>{let{assignmentId:a}=s;await e.cancelQueries({queryKey:K.list(a)}),await e.cancelQueries({queryKey:K.support(a)}),await e.cancelQueries({queryKey:K.submissions(a)})},onSuccess:(s,a)=>{let{assignmentId:t,documentType:l}=a;if(s){e.setQueryData(K.list(t),e=>e?[s,...e]:[s]);let a="support"===l?K.support(t):K.submissions(t);e.setQueryData(a,e=>e?[s,...e]:[s]),e.invalidateQueries({queryKey:K.storage()})}},onError:e=>{(0,j.F0)("Failed to upload document: "+e)},onSettled:(s,a,t)=>{let{assignmentId:l}=t;e.invalidateQueries({queryKey:K.list(l)}),e.invalidateQueries({queryKey:K.support(l)}),e.invalidateQueries({queryKey:K.submissions(l)})}})}(),y=async()=>{p(null),N(null);try{let e=await g.mutateAsync({assignmentId:c,documentType:m});e&&(N('Successfully uploaded "'.concat(e.FileName,'"')),setTimeout(()=>{d(),v()},1500))}catch(e){console.error("Upload failed:",e),p(e instanceof Error?e.message:"Upload failed")}},v=()=>{g.isPending||(p(null),N(null),a())};return(0,t.jsx)(n.Vq,{open:s,onOpenChange:v,children:(0,t.jsxs)(n.cZ,{className:"sm:max-w-md",children:[(0,t.jsx)(n.fK,{children:(0,t.jsxs)(n.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(T.Z,{className:"h-5 w-5"}),"Upload Document"]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_._,{htmlFor:"document-type",children:"Document Type"}),(0,t.jsxs)(I.Ph,{value:m,onValueChange:e=>x(e),disabled:g.isPending,children:[(0,t.jsx)(I.i4,{children:(0,t.jsx)(I.ki,{})}),(0,t.jsxs)(I.Bw,{children:[(0,t.jsx)(I.Ql,{value:"support",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),"Support Document"]})}),(0,t.jsx)(I.Ql,{value:"submission",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),"Submission"]})})]})]})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"support"===m?(0,t.jsx)("p",{children:"Support documents are reference materials, instructions, or resources related to this assignment."}):(0,t.jsx)("p",{children:"Submissions are your completed work or deliverables for this assignment."})}),(0,t.jsx)("div",{className:"rounded-lg border p-3 bg-muted/50",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(V.Z,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,t.jsx)("p",{className:"font-medium",children:"File Limits:"}),(0,t.jsxs)("ul",{className:"space-y-0.5 text-muted-foreground",children:[(0,t.jsx)("li",{children:"• Maximum file size: 50 MB"}),(0,t.jsx)("li",{children:"• Maximum per assignment: 200 MB"}),(0,t.jsx)("li",{children:"• Total storage limit: 2 GB"})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_._,{className:"text-sm font-medium",children:"Supported Formats"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:["PDF documents (.pdf)","Microsoft Word (.doc, .docx)","PowerPoint (.ppt, .pptx)","Excel (.xls, .xlsx)","Text files (.txt, .md)","Images (.png, .jpg, .jpeg, .gif, .bmp, .svg)"].map(e=>(0,t.jsx)(i.C,{variant:"secondary",className:"text-xs",children:e},e))})]}),u&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-red-200 bg-red-50 text-red-700",children:[(0,t.jsx)(G.Z,{className:"h-4 w-4"}),(0,t.jsx)("p",{className:"text-sm",children:u})]}),f&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-green-200 bg-green-50 text-green-700",children:[(0,t.jsx)(O.Z,{className:"h-4 w-4"}),(0,t.jsx)("p",{className:"text-sm",children:f})]}),g.isPending&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Uploading..."}),(0,t.jsx)("span",{children:"Please wait"})]}),(0,t.jsx)(R.E,{value:void 0,className:"h-2"})]})]}),(0,t.jsxs)(n.cN,{children:[(0,t.jsx)(r.z,{variant:"outline",onClick:v,disabled:g.isPending,children:"Cancel"}),(0,t.jsx)(r.z,{onClick:y,disabled:g.isPending,children:g.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"Select & Upload"]})})]})]})})}var W=a(7054),X=a(4428),H=a(7168);function Y(){let{data:e,isLoading:s,refetch:a}=Q(),l=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]},n=()=>e?Math.min(e.TotalSize/2147483648*100,100):0;return(0,t.jsxs)(W.J2,{children:[(0,t.jsx)(W.xo,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"outline",size:"sm",className:"h-8",children:(0,t.jsx)(X.Z,{className:"w-4 h-4"})})}),(0,t.jsx)(W.yk,{className:"w-80",align:"end",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Storage Usage"}),(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>a(),disabled:s,className:"p-0 w-8 h-8",children:(0,t.jsx)(H.Z,{className:"h-4 w-4 ".concat(s?"animate-spin":"")})})]}),e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{children:"Used Storage"}),(0,t.jsxs)("span",{className:"font-medium",children:[l(e.TotalSize)," / 2 GB"]})]}),(0,t.jsx)(R.E,{value:n(),className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-center ".concat((()=>{let e=n();return e>=90?"text-red-500":e>=75?"text-yellow-500":"text-blue-500"})()),children:[Math.round(n()),"% used"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.DocumentCount}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Documents"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:l(e.TotalSize)}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Used"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[n()>=90&&(0,t.jsx)(i.C,{variant:"destructive",className:"justify-center w-full",children:"Storage Almost Full"}),n()>=75&&90>n()&&(0,t.jsx)(i.C,{variant:"secondary",className:"justify-center w-full text-yellow-700 bg-yellow-500/20",children:"Storage Getting Full"})]}),(0,t.jsxs)("div",{className:"text-xs text-center text-muted-foreground",children:["Last updated: ",new Date(e.LastCalculatedAt).toLocaleString()]})]}):s?(0,t.jsxs)("div",{className:"flex justify-center items-center py-4",children:[(0,t.jsx)(H.Z,{className:"mr-2 w-4 h-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:"Loading storage info..."})]}):(0,t.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,t.jsxs)(r.z,{variant:"outline",onClick:()=>a(),size:"sm",children:[(0,t.jsx)(V.Z,{className:"mr-2 w-4 h-4"}),"Load Storage Info"]})}),(0,t.jsx)("div",{className:"pt-3 border-t",children:(0,t.jsxs)("div",{className:"space-y-1 text-xs text-muted-foreground",children:[(0,t.jsx)("div",{className:"font-medium",children:"Storage Limits:"}),(0,t.jsx)("div",{children:"• Max file size: 50 MB"}),(0,t.jsx)("div",{children:"• Max per assignment: 200 MB"}),(0,t.jsx)("div",{children:"• Total limit: 2 GB"})]})})]})})]})}var J=a(4924),ee=a(7117),es=a(4743),ea=a(2451),et=a(407),el=a(9467);function ei(e){var s,a,n,d;let{assignment:c}=e,[o,m]=(0,l.useState)("all"),[x,u]=(0,l.useState)(!1),[p,f]=(0,l.useState)("support"),[N,y]=(0,l.useState)(0),[v,w]=(0,el.Z)({align:"start",containScroll:"trimSnaps",dragFree:!1,skipSnaps:!1}),b=(0,l.useCallback)(()=>{w&&y(w.selectedScrollSnap())},[w]);(0,l.useEffect)(()=>{if(w)return b(),w.on("select",b),()=>{w.off("select",b)}},[w,b]),(0,l.useEffect)(()=>{y(0),w&&w.scrollTo(0)},[o,w]);let{allDocuments:F,supportDocuments:C,submissionDocuments:D,isLoading:z,error:S}=function(e){let s=(0,L.a)({queryKey:K.list(e),queryFn:async()=>{try{return await window.go.main.App.GetAssignmentDocuments(e)||[]}catch(e){throw(0,j.F0)("Failed to fetch assignment documents: "+e),Error(e instanceof Error?e.message:"Failed to fetch documents")}},enabled:!!e,staleTime:6e4,gcTime:3e5}),a=(0,L.a)({queryKey:K.support(e),queryFn:async()=>{try{return await window.go.main.App.GetSupportDocuments(e)||[]}catch(e){throw(0,j.F0)("Failed to fetch support documents: "+e),Error(e instanceof Error?e.message:"Failed to fetch support documents")}},enabled:!!e,staleTime:6e4,gcTime:3e5}),t=(0,L.a)({queryKey:K.submissions(e),queryFn:async()=>{try{return await window.go.main.App.GetSubmissionDocuments(e)||[]}catch(e){throw(0,j.F0)("Failed to fetch submission documents: "+e),Error(e instanceof Error?e.message:"Failed to fetch submission documents")}},enabled:!!e,staleTime:6e4,gcTime:3e5});return{allDocuments:s,supportDocuments:a,submissionDocuments:t,storageInfo:Q(),isLoading:s.isLoading||a.isLoading||t.isLoading,error:s.error||a.error||t.error}}(c.ID),k=(()=>{switch(o){case"support":return C.data||[];case"submission":return D.data||[];default:return F.data||[]}})(),Z=[];for(let e=0;e<k.length;e+=4)Z.push(k.slice(e,e+4));let A=(0,l.useCallback)(()=>{w&&w.scrollPrev()},[w]),E=(0,l.useCallback)(()=>{w&&w.scrollNext()},[w]);(0,l.useCallback)(e=>{w&&w.scrollTo(e)},[w]);let M=e=>{f(e),u(!0)};return z?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Documents"})]}),(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading documents..."})})]}):S?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Documents"})]}),(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)("div",{className:"text-sm text-red-500",children:"Failed to load documents"})})]}):(0,t.jsxs)("div",{className:"space-y-4 ",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Documents"}),(0,t.jsx)(i.C,{variant:"secondary",className:"ml-2",children:(null===(s=F.data)||void 0===s?void 0:s.length)||0})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(r.z,{variant:"outline",size:"sm",className:"h-8",onClick:()=>M("submission"===o?"submission":"support"),children:(0,t.jsx)(T.Z,{className:"w-4 h-4"})}),(0,t.jsx)(Y,{})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsxs)(r.z,{variant:"all"===o?"default":"outline",size:"sm",onClick:()=>m("all"),className:"h-8",children:[(0,t.jsx)(J.Z,{className:"mr-1 w-4 h-4"}),"All (",(null===(a=F.data)||void 0===a?void 0:a.length)||0,")"]}),(0,t.jsxs)(r.z,{variant:"support"===o?"default":"outline",size:"sm",onClick:()=>m("support"),className:"h-8",children:[(0,t.jsx)(ee.Z,{className:"mr-1 w-4 h-4"}),"Support (",(null===(n=C.data)||void 0===n?void 0:n.length)||0,")"]}),(0,t.jsxs)(r.z,{variant:"submission"===o?"default":"outline",size:"sm",onClick:()=>m("submission"),className:"h-8",children:[(0,t.jsx)(es.Z,{className:"mr-1 w-4 h-4"}),"Submissions (",(null===(d=D.data)||void 0===d?void 0:d.length)||0,")"]})]}),Z.length>1&&(0,t.jsx)(i.C,{variant:"outline",className:"flex items-center p-2 bg-gray-800/50 border border-gray-600 rounded-full",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[N+1," / ",(0,t.jsx)("span",{className:"text-white",children:Z.length})]})})]}),(0,t.jsx)(g.Z,{}),(0,t.jsx)("div",{className:"flex flex-col",children:k.length>0?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"overflow-hidden",ref:v,children:(0,t.jsx)("div",{className:"flex",children:Z.map((e,s)=>(0,t.jsx)("div",{className:"flex-none w-full min-w-0",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4",children:e.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(P,{document:e})},e.ID))})},s))})}),Z.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.z,{variant:"outline",size:"icon",className:"left-0 absolute rounded-full top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-gray-800/50 border border-gray-600",onClick:A,children:(0,t.jsx)(ea.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"outline",size:"icon",className:"right-0 absolute rounded-full top-1/2 -translate-y-1/2 z-10 h-8 w-8 bg-gray-800/50 border border-gray-600",onClick:E,children:(0,t.jsx)(et.Z,{className:"h-4 w-4"})})]})]}):(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center py-8 text-center",children:[(0,t.jsx)(h.Z,{className:"mb-2 w-12 h-12 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"all"===o?"No documents uploaded yet":"support"===o?"No support documents uploaded yet":"No submissions uploaded yet"}),(0,t.jsxs)(r.z,{size:"sm",variant:"outline",onClick:()=>M("submission"===o?"submission":"support"),className:"mt-2 h-8",children:[(0,t.jsx)(T.Z,{className:"mr-1 w-4 h-4"}),"Upload Document"]})]})}),(0,t.jsx)($,{isOpen:x,onClose:()=>u(!1),onUploadComplete:()=>{u(!1)},assignmentId:c.ID,documentType:p})]})}let er={low:"text-green-400 border-green-400 bg-green-500/10",medium:"text-yellow-400 border-yellow-400 bg-yellow-500/10",high:"text-red-400 border-red-400 bg-red-500/10"},en={HW:"bg-blue-500/20 text-blue-400",Exam:"bg-red-500/20 text-red-400"};function ed(e){var s,a;let{isOpen:g,onClose:y,assignment:v,onEdit:w,onDelete:b}=e,[F,C]=(0,l.useState)(!1);if(!v)return null;let D=(0,f.vu)(v.Deadline),z=(0,f.cF)(D,v.StatusName),S=(0,f.jf)(D);return(0,t.jsx)(n.Vq,{open:g,onOpenChange:y,children:(0,t.jsxs)(n.cZ,{className:"glass border-0 text-white max-w-2xl max-h-[95vh] overflow-y-auto",children:[(0,t.jsx)(n.fK,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)(n.$N,{className:"text-xl font-semibold text-white line-clamp-1",children:v.Title}),(0,t.jsxs)(d.h_,{children:[(0,t.jsx)(d.$F,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"ghost",size:"sm",className:"p-0 w-6 h-6",children:(0,t.jsx)(c.Z,{className:"w-4 h-4"})})}),(0,t.jsxs)(d.AW,{align:"end",className:"border-gray-600 glass",children:[(0,t.jsxs)(d.Xi,{onClick:()=>w(v,"title",v.Title),children:[(0,t.jsx)(o.Z,{className:"mr-2 w-4 h-4"}),"Edit"]}),(0,t.jsxs)(d.Xi,{onClick:()=>{(0,j.W8)(v.Link)},children:[(0,t.jsx)(m.Z,{className:"mr-2 w-4 h-4"}),"Open Link"]}),(0,t.jsxs)(d.Xi,{onClick:()=>b(v),className:"text-red-400 hover:text-red-300",children:[(0,t.jsx)(x.Z,{className:"mr-2 w-4 h-4"}),"Delete"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.N,{assignment:v,onEdit:w}),(0,t.jsx)(i.C,{variant:"outline",className:"text-sm ".concat(er[v.Priority]),children:v.Priority}),(0,t.jsx)(i.C,{variant:"outline",className:"text-sm font-semibold ".concat(en[v.TypeName]),children:v.TypeName})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null===(s=v.Course)||void 0===s?void 0:s.Color)}),(0,t.jsx)("span",{children:"Course"})]}),(0,t.jsx)("p",{className:"font-medium text-white",children:null===(a=v.Course)||void 0===a?void 0:a.Name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Deadline"})]}),(0,t.jsx)(i.C,{variant:"outline",className:"".concat(z?"text-red-400":S<0?"text-gray-400":"text-yellow-400"),children:(0,f.R8)(D,v.StatusName)})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)("p",{className:"font-medium text-white",children:(0,p.WU)(D,"EEEE, MMMM d, yyyy")})})]})]}),v.Todo&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Description"})]}),(0,t.jsx)(r.z,{variant:"link",size:"sm",className:"text-sm text-blue-400 hover:text-blue-300",onClick:()=>C(!F),children:F?"Show less":"Show more"})]}),(0,t.jsx)("div",{className:"bg-gray-800/50 border border-gray-600 p-3 rounded-lg",children:(0,t.jsx)("p",{className:"leading-relaxed text-sm text-white ".concat(F?"block":"line-clamp-4"),children:v.Todo})})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-gray-600",children:(0,t.jsx)(ei,{assignment:v})})]})]})})}},6815:function(e,s,a){a.d(s,{_:function(){return c}});var t=a(7437),l=a(2265),i=a(6394),r=a(535),n=a(4508);let d=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.f,{ref:s,className:(0,n.cn)(d(),a),...l})});c.displayName=i.f.displayName},7054:function(e,s,a){a.d(s,{J2:function(){return n},xo:function(){return d},yk:function(){return c}});var t=a(7437),l=a(2265),i=a(7312),r=a(4508);let n=i.fC,d=i.xz,c=l.forwardRef((e,s)=>{let{className:a,align:l="center",sideOffset:n=4,...d}=e;return(0,t.jsx)(i.h_,{children:(0,t.jsx)(i.VY,{ref:s,align:l,sideOffset:n,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});c.displayName=i.VY.displayName},3647:function(e,s,a){a.d(s,{Bw:function(){return p},Ph:function(){return o},Ql:function(){return f},i4:function(){return x},ki:function(){return m}});var t=a(7437),l=a(2265),i=a(3911),r=a(875),n=a(2135),d=a(401),c=a(4508);let o=i.fC;i.ZA;let m=i.B4,x=l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,t.jsxs)(i.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[l,(0,t.jsx)(i.JO,{asChild:!0,children:(0,t.jsx)(r.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=i.xz.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})});u.displayName=i.u_.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})})});h.displayName=i.$G.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,position:r="popper",...n}=e;return(0,t.jsx)(i.h_,{children:(0,t.jsxs)(i.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...n,children:[(0,t.jsx)(u,{}),(0,t.jsx)(i.l_,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(h,{})]})})});p.displayName=i.VY.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=i.__.displayName;let f=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(i.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.wU,{children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(i.eT,{children:l})]})});f.displayName=i.ck.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=i.Z0.displayName}}]);