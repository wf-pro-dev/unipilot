(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9151],{17521:function(e,s,t){Promise.resolve().then(t.bind(t,31712))},31712:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ea}});var l=t(57437),a=t(2265),r=t(26110),n=t(62869),o=t(95186),i=t(26815),c=t(53647),d=t(99397),u=t(83625);let x=[{value:"Mathematics",label:"Mathematics",color:"text-blue-400 border-blue-400"},{value:"Science",label:"Science",color:"text-yellow-400 border-yellow-400"},{value:"History",label:"History",color:"text-red-400 border-red-400"},{value:"English",label:"English",color:"text-orange-400 border-orange-400"},{value:"Computer Science",label:"Computer Science",color:"text-green-400 border-green-400"},{value:"Physics",label:"Physics",color:"text-purple-400 border-purple-400"},{value:"Chemistry",label:"Chemistry",color:"text-pink-400 border-pink-400"},{value:"Biology",label:"Biology",color:"text-gray-400 border-gray-400"},{value:"Social Studies",label:"Social Studies",color:"text-brown-400 border-brown-400"},{value:"Art",label:"Art",color:"text-indigo-400 border-indigo-400"},{value:"Music",label:"Music",color:"text-teal-400 border-teal-400"}];function m(e){let{onAdd:s}=e,[t,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)({title:"",subject:"",course_code:"",course_name:"",course_color:""}),{data:j}=(0,u.pt)();return(0,l.jsxs)(r.Vq,{open:t,onOpenChange:m,children:[(0,l.jsx)(r.hg,{asChild:!0,children:(0,l.jsxs)(n.z,{className:"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700",children:[(0,l.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Add Note"]})}),(0,l.jsxs)(r.cZ,{className:"glass border-0 text-white max-w-md",children:[(0,l.jsx)(r.fK,{children:(0,l.jsx)(r.$N,{children:"Add Note"})}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m(!1),s({Title:h.title,Subject:h.subject,CourseCode:h.course_code,ID:0,CreatedAt:new Date,UpdatedAt:new Date,DeletedAt:null,Course:null}),g({title:"",subject:"",course_code:"",course_name:"",course_color:""})},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(i._,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),(0,l.jsxs)(c.Ph,{value:h.subject,onValueChange:e=>g({...h,subject:e}),children:[(0,l.jsx)(c.i4,{className:"bg-gray-800/50 border-gray-600",children:(0,l.jsx)(c.ki,{placeholder:"Select subject"})}),(0,l.jsx)(c.Bw,{className:"glass border-gray-600",children:x.map(e=>(0,l.jsx)(c.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i._,{htmlFor:"course",className:"text-gray-300",children:"Course"}),(0,l.jsxs)(c.Ph,{value:h.course_code,onValueChange:e=>{let s=null==j?void 0:j.find(s=>s.Code===e);g({...h,course_code:e,course_name:(null==s?void 0:s.Name)||"",course_color:(null==s?void 0:s.Color)||""})},children:[(0,l.jsx)(c.i4,{className:"bg-gray-800/50 border-gray-600",children:(0,l.jsx)(c.ki,{placeholder:"Select course",className:"text-white",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(h.course_color)}),h.course_code]})})}),(0,l.jsx)(c.Bw,{className:"glass border-gray-600",children:null==j?void 0:j.map(e=>(0,l.jsx)(c.Ql,{value:e.Code,children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(e.Color)}),e.Code," - ",e.Name]})},e.Code))})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i._,{htmlFor:"title",className:"text-gray-300",children:"Note Title"}),(0,l.jsx)(o.I,{id:"title",value:h.title,onChange:e=>g({...h,title:e.target.value}),placeholder:"Lecture 5: Introduction to React",className:"bg-gray-800/50 border-gray-600",required:!0})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,l.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>m(!1),className:"border-gray-600 bg-transparent",children:"Cancel"}),(0,l.jsx)(n.z,{type:"submit",children:"Add Note"})]})]})]})]})}var h=t(66070),g=t(35974),j=t(84190),p=t(71533),y=t(15868),N=t(18930),v=t(71769),b=t(62720),f=t(29374),w=t(94508);function C(e){let{className:s,...t}=e;return(0,l.jsx)("div",{className:(0,w.cn)("animate-pulse rounded-md bg-muted",s),...t})}function A(e){let{note:s,onEdit:t,onDelete:a,onNoteClick:r,disabled:o=!1}=e,{data:i}=(0,u.pt)(),c=null==i?void 0:i.find(e=>e.Code===s.CourseCode),d=s.Keywords?s.Keywords.startsWith("[")?JSON.parse(s.Keywords):s.Keywords.split(","):[],x=s.Videos&&s.Videos.startsWith("[")?JSON.parse(s.Videos):[];return s.Content&&(s.Content.length>150?s.Content.substring(0,150):s.Content),(0,l.jsx)("div",{children:(0,l.jsx)(h.Zb,{className:"glass border-0 hover:bg-white/5 transition-colors ".concat(!o&&r?"cursor-pointer":""," ").concat(o?"opacity-50":""),onClick:()=>{r&&!o&&r(s.ID)},children:(0,l.jsx)(h.aY,{className:"p-4",children:(0,l.jsx)("div",{className:"flex items-start space-x-3",children:(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsxs)("div",{className:"flex gap-2 justify-between items-start",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h3",{className:"font-medium text-white line-clamp-1",children:s.Title}),(0,l.jsx)("p",{className:"text-sm text-gray-400 line-clamp-1",children:s.Subject})]}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)(j.h_,{children:[(0,l.jsx)(j.$F,{asChild:!0,children:(0,l.jsx)(n.z,{variant:"ghost",size:"sm",className:"p-0 w-8 h-8 text-gray-400 hover:text-white",disabled:o,onClick:e=>e.stopPropagation(),children:(0,l.jsx)(p.Z,{className:"w-4 h-4"})})}),(0,l.jsxs)(j.AW,{align:"end",className:"border-gray-700 glass",children:[(0,l.jsxs)(j.Xi,{onClick:e=>{e.stopPropagation(),console.log("Edit note:",s)},disabled:o,children:[(0,l.jsx)(y.Z,{className:"mr-2 w-4 h-4"}),"Edit"]}),(0,l.jsxs)(j.Xi,{onClick:e=>{e.stopPropagation(),a(s)},disabled:o,className:"text-red-400",children:[(0,l.jsx)(N.Z,{className:"mr-2 w-4 h-4"}),"Delete"]})]})]})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(v.Z,{className:"w-3 h-3 text-gray-400"}),(0,l.jsxs)(g.C,{variant:"outline",className:"text-xs",style:{borderColor:(null==c?void 0:c.Color)||"#6b7280",color:(null==c?void 0:c.Color)||"#6b7280"},children:[null==c?void 0:c.Code," - ",null==c?void 0:c.Name]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(b.Z,{className:"w-3 h-3 text-gray-400"}),d.length>0?(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[d.slice(0,3).map((e,s)=>(0,l.jsx)(g.C,{variant:"secondary",className:"text-xs",children:e},s)),d.length>3&&(0,l.jsxs)(g.C,{variant:"secondary",className:"text-xs",children:["+",d.length-3," more"]})]}):(0,l.jsx)(C,{className:"h-4 w-3/4"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(f.Z,{className:"w-3 h-3 text-gray-400"}),(0,l.jsxs)("span",{className:"text-xs text-gray-400",children:[x.length<1?"No videos":x.length+" video"+(1!==x.length?"s":"")+" "," available"]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[(0,l.jsxs)("span",{children:["Created: ",new Date(s.CreatedAt).toLocaleDateString()]}),s.UpdatedAt&&s.UpdatedAt!==s.CreatedAt&&(0,l.jsxs)("span",{children:["Updated: ",new Date(s.UpdatedAt).toLocaleDateString()]})]})]})]})})})})})}var D=t(73247),S=t(88501),Z=t(51817),k=t(92934);function V(e){let{title:s,notes:t,onNoteClick:r,onDelete:n,onEdit:i,isLoading:d}=e,[u,x]=(0,a.useState)("All Courses"),[m,g]=(0,a.useState)(""),j=Array.from(new Set((t||[]).map(e=>e.CourseCode||"All Courses")));console.log(j);let p=(0,a.useMemo)(()=>t.filter(e=>{let s=e.Title.toLowerCase().includes(m.toLowerCase())||e.Keywords.toLowerCase().includes(m.toLowerCase()),t="All Courses"===u||e.CourseCode===u;return s&&t}),[t,m,u]);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(h.Zb,{className:"glass border-0",children:(0,l.jsx)(h.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-6",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(D.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,l.jsx)(o.I,{placeholder:"Search notes by title or keywords...",value:m,onChange:e=>g(e.target.value),className:"pl-10 bg-gray-800/50 border-gray-600"})]})}),(0,l.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-400",children:"Course:"}),(0,l.jsxs)(c.Ph,{value:u,onValueChange:x,children:[(0,l.jsx)(c.i4,{className:"w-48 bg-gray-800/50 border-gray-600",children:(0,l.jsx)(c.ki,{})}),(0,l.jsxs)(c.Bw,{className:"glass border-gray-600",children:[(0,l.jsx)(c.Ql,{value:"All Courses",children:"All Courses"}),j.map(e=>(0,l.jsx)(c.Ql,{value:e,children:e},e))]})]})]})})]})})}),(0,l.jsxs)(h.Zb,{className:"border-0 glass p-0",children:[(0,l.jsx)(h.Ol,{children:(0,l.jsxs)(h.ll,{className:"flex items-center space-x-2 text-white",children:[(0,l.jsx)(S.Z,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:s}),d&&(0,l.jsx)(Z.Z,{className:"ml-2 w-4 h-4 animate-spin"})]})}),(0,l.jsx)(h.aY,{children:0===(p||[]).length?(0,l.jsx)("div",{className:"flex justify-center items-center h-48 text-gray-400",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(k.Z,{className:"mx-auto w-12 h-12 opacity-50"}),(0,l.jsx)("p",{children:"No notes"})]})}):(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:(p||[]).map((e,s)=>(0,l.jsx)(A,{note:e,onEdit:i,onDelete:n,onNoteClick:r,disabled:d||!e.Content},e.ID))})})]})]})}var _=t(6512),E=t(31047),L=t(7586),Q=t(33276),U=t(96362),K=t(32489),F=t(62153);function M(e){let{videos:s,note:t,onRemoveVideo:a,setIsAddDialogOpen:r}=e,o=e=>"https://www.youtube.com/embed/".concat(e),i=e=>"https://www.youtube.com/watch?v=".concat(e);return 0===s.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)(Q.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No videos yet"}),(0,l.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Add YouTube videos to enhance your notes"})]}),(0,l.jsxs)(n.z,{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,l.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Add Video"]})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(Q.Z,{className:"w-5 h-5 text-gray-400"}),(0,l.jsxs)("h3",{className:"text-lg font-medium text-white",children:["Videos (",s.length,")"]})]}),(0,l.jsxs)(n.z,{onClick:()=>r(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[(0,l.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Add Video"]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:s.map((e,s)=>(0,l.jsx)(h.Zb,{className:"bg-gray-800/50 border-gray-700",children:(0,l.jsx)(h.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:(0,l.jsx)("iframe",{src:o(e),title:"Video ".concat(s+1),className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(g.C,{variant:"outline",className:"text-xs",children:["Video ",s+1]}),(0,l.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>(0,F.W8)(i(e)),className:"text-gray-400 hover:text-white p-1",children:(0,l.jsx)(U.Z,{className:"w-3 h-3"})})]}),(0,l.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>a(t,e),className:"text-red-400 hover:text-red-300 p-1",children:(0,l.jsx)(K.Z,{className:"w-3 h-3"})})]})]})})},e))})]})}var z=t(20271),I=t(11713),T=t(29827),O=t(21770);let P={all:["notes"],lists:()=>[...P.all,"list"],list:e=>[...P.lists(),{filters:e}],details:()=>[...P.all,"detail"],detail:e=>[...P.details(),e],search:e=>[...P.all,"search",e]};function q(){return(0,I.a)({queryKey:P.lists(),queryFn:async()=>{try{return await window.go.main.App.GetNotes()}catch(e){throw(0,F.F0)("Failed to fetch notes: "+e),Error(e instanceof Error?e.message:"Failed to fetch notes")}},staleTime:12e4,gcTime:6e5})}function H(e){let{isOpen:s,onClose:t,note:i,onAddVideo:c}=e,[d,u]=(0,a.useState)(""),x=()=>{u(""),t()},m=()=>{d.trim()&&(c(i,d),x())};return(0,l.jsx)(r.Vq,{open:s,onOpenChange:x,children:(0,l.jsxs)(r.cZ,{className:"border-gray-700 glass",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"YouTube URL"}),(0,l.jsx)(o.I,{value:d,onChange:e=>u(e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"bg-gray-800 border-gray-600 text-white",onKeyDown:e=>{"Enter"===e.key&&m()}})]}),(0,l.jsx)(r.Be,{children:(0,l.jsx)("p",{children:"Paste the YouTube video URL below to add it to your note."})}),(0,l.jsxs)(r.cN,{children:[(0,l.jsx)(n.z,{variant:"outline",onClick:x,children:"Cancel"}),(0,l.jsx)(n.z,{onClick:m,children:"Add Video"})]})]})})}var R=t(14438),W=t(93439),Y=t(64660),B=t(81315),J=t(50693),$=t(7132),G=t(50656);function X(e){let{children:s}=e,t=(0,a.useRef)(null);return(0,a.useEffect)(()=>{t.current&&s&&(G.Z.initialize({startOnLoad:!0,theme:"default",securityLevel:"loose"}),(async()=>{try{let{svg:e}=await G.Z.render("mermaid-".concat(Date.now()),s);t.current&&(t.current.innerHTML=e)}catch(e){console.error("Mermaid rendering error:",e),t.current&&(t.current.innerHTML='<pre class="text-red-500 bg-red-50 p-4 rounded border">'.concat(s,"</pre>"))}})())},[s]),(0,l.jsx)("div",{className:"my-8 flex justify-center",children:(0,l.jsx)("div",{ref:t,className:"mermaid-diagram max-w-full overflow-x-auto"})})}function ee(e){let{content:s,className:t,variant:a="default"}=e;return s?(0,l.jsx)("div",{className:(0,w.cn)("prose prose-sm max-w-none",{default:"prose-gray dark:prose-invert",compact:"prose-gray dark:prose-invert prose-compact",styled:"prose-blue dark:prose-invert prose-lg"}[a],t),children:(0,l.jsx)(W.UG,{remarkPlugins:[Y.Z,B.Z],rehypePlugins:[J.Z,$.Z],components:{h1:e=>{let{children:s}=e;return(0,l.jsx)("h1",{className:"text-2xl font-bold text-foreground border-b border-border pb-2 mb-6 mt-8 first:mt-0",children:s})},h2:e=>{let{children:s}=e;return(0,l.jsx)("h2",{className:"text-xl font-semibold text-foreground border-b border-border pb-2 mb-5 mt-7",children:s})},h3:e=>{let{children:s}=e;return(0,l.jsx)("h3",{className:"text-lg font-medium text-foreground mb-4 mt-6",children:s})},code:e=>{let{inline:s,className:t,children:a,...r}=e,n=/language-(\w+)/.exec(t||"");return"mermaid"===(n?n[1]:"")?(0,l.jsx)(X,{children:String(a).replace(/\n$/,"")}):s?(0,l.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-muted-foreground",...r,children:a}):(0,l.jsx)("div",{className:"my-6",children:(0,l.jsx)("code",{className:(0,w.cn)("block",t),...r,children:a})})},pre:e=>{let{children:s,...t}=e;return(0,l.jsx)("div",{className:"my-8",children:(0,l.jsx)("pre",{className:"bg-muted rounded-lg p-4 overflow-x-auto text-sm font-mono border",...t,children:s})})},blockquote:e=>{let{children:s}=e;return(0,l.jsx)("blockquote",{className:"border-l-4 border-primary pl-6 py-2 my-6 italic text-muted-foreground bg-muted/20 rounded-r",children:s})},table:e=>{let{children:s}=e;return(0,l.jsx)("div",{className:"my-8 overflow-x-auto rounded-lg border",children:(0,l.jsx)("table",{className:"min-w-full border-collapse",children:s})})},th:e=>{let{children:s}=e;return(0,l.jsx)("th",{className:"border-b border-border bg-muted px-4 py-3 text-left font-semibold",children:s})},td:e=>{let{children:s}=e;return(0,l.jsx)("td",{className:"border-b border-border px-4 py-3",children:s})},div:e=>{let{className:s,children:t,...a}=e;return(null==s?void 0:s.includes("math-display"))?(0,l.jsx)("div",{className:(0,w.cn)("my-8 flex justify-center",s),...a,children:t}):(0,l.jsx)("div",{className:s,...a,children:t})},p:e=>{let{children:s}=e;return(0,l.jsx)("p",{className:"mb-4 leading-7",children:s})}},children:s})}):(0,l.jsx)("div",{className:(0,w.cn)("text-muted-foreground",t),children:"No content available"})}function es(e){let{content:s,className:t}=e;return(0,l.jsx)(ee,{content:s,className:t,variant:"styled"})}function et(e){let{noteID:s,isOpen:t,onClose:o,onEdit:i,onDelete:c}=e,[d,x]=(0,a.useState)("videos"),{data:m}=(0,u.pt)(),[h,j]=(0,a.useState)(!1),{data:p}=q(),y=null==p?void 0:p.find(e=>e.ID===s),N=null==m?void 0:m.find(e=>e.Code===(null==y?void 0:y.CourseCode)),w=(0,a.useMemo)(()=>{if(!(null==y?void 0:y.Videos))return[];try{return y.Videos.startsWith("[")?JSON.parse(y.Videos):[]}catch(e){return console.error("Error parsing videos:",e),[]}},[null==y?void 0:y.Videos]),C=e=>{for(let s of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/v\/([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/]){let t=e.match(s);if(t)return t[1]}return null};if(!y)return null;let A=y.Keywords?y.Keywords.startsWith("[")?JSON.parse(y.Keywords):y.Keywords.split(","):[];return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.Vq,{open:t,onOpenChange:o,children:(0,l.jsxs)(r.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto border-0 glass",children:[(0,l.jsxs)(r.fK,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(r.$N,{className:"text-2xl font-bold text-white note-dialog-title",children:y.Title}),(0,l.jsx)("p",{className:"text-gray-300 note-dialog-subtitle",children:y.Subject})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[N&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(v.Z,{className:"w-4 h-4 text-gray-400"}),(0,l.jsxs)(g.C,{variant:"outline",className:"text-sm flex flex-row gap-2",children:[(0,l.jsx)("div",{className:"h-2 w-2  rounded-full ".concat(null==N?void 0:N.Color)}),null==N?void 0:N.Code]})]}),A.length>0&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(b.Z,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:A.map((e,s)=>(0,l.jsx)(g.C,{variant:"secondary",className:"text-xs",children:e},s))})]}),w.length>0&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(f.Z,{className:"w-4 h-4 text-gray-400"}),(0,l.jsxs)("span",{className:"text-gray-300",children:[w.length," video",1!==w.length?"s":""," available"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(E.Z,{className:"w-4 h-4 text-gray-400"}),(0,l.jsxs)("span",{className:"text-gray-300",children:["Created: ",new Date(y.CreatedAt).toLocaleDateString()]})]}),y.UpdatedAt&&y.UpdatedAt!==y.CreatedAt&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(E.Z,{className:"w-4 h-4 text-gray-400"}),(0,l.jsxs)("span",{className:"text-gray-300",children:["Updated: ",new Date(y.UpdatedAt).toLocaleDateString()]})]})]}),(0,l.jsx)(_.Z,{className:"bg-gray-700"})]}),(0,l.jsxs)(z.mQ,{defaultValue:"note",value:d,onValueChange:x,className:"w-full",children:[(0,l.jsxs)(z.dr,{className:"flex flex-row gap-2 mb-4",children:[(0,l.jsxs)(z.SP,{value:"note",className:"glass border-gray-600  flex items-center space-x-2 py-2 px-4 rounded-full",children:[(0,l.jsx)(E.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Note"})]}),(0,l.jsxs)(z.SP,{value:"videos",className:"glass border-gray-600 flex items-center space-x-2 py-2 px-4 rounded-full",children:[(0,l.jsx)(L.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Videos"})]})]}),(0,l.jsx)(z.nU,{value:"note",children:(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsx)("div",{className:"space-y-2",children:y.Content?(0,l.jsx)(es,{content:y.Content,className:"bg-gray-800/50 rounded-lg p-4"}):(0,l.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No content available"})})})}),(0,l.jsx)(z.nU,{value:"videos",children:(0,l.jsx)(M,{videos:w,note:y,onRemoveVideo:(e,s)=>{i(e,"videos",JSON.stringify(w.filter(e=>e!==s))),R.Am.success("Video removed successfully")},setIsAddDialogOpen:j})})]}),(0,l.jsx)("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-700",children:(0,l.jsx)(n.z,{variant:"destructive",onClick:()=>{confirm("Are you sure you want to delete this note?")&&(c(y),o())},className:"bg-red-600 hover:bg-red-700",children:"Delete Note"})})]})}),(0,l.jsx)(H,{isOpen:h,onClose:()=>j(!1),note:y,onAddVideo:(e,s)=>{let t=C(s);t?w.includes(t)?R.Am.error("This video is already in the list"):(i(e,"videos",JSON.stringify([...w,t])),R.Am.success("Video added successfully")):R.Am.error("Please enter a valid YouTube URL")}})]})}t(2446),t(99199);var el=t(52255);function ea(){let{data:e,isLoading:s}=q(),t=function(){let e=(0,T.NL)();return(0,O.D)({mutationFn:async e=>await window.go.main.App.CreateNote(e),onMutate:async s=>{await e.cancelQueries({queryKey:P.lists()});let t=e.getQueryData(P.lists());return e.setQueryData(P.lists(),e=>e?[s,...e]:[s]),{previousNotes:t}},onError:(s,t,l)=>{(null==l?void 0:l.previousNotes)&&e.setQueryData(P.lists(),l.previousNotes),(0,F.F0)("Failed to create note: "+s)},onSettled:()=>{e.invalidateQueries({queryKey:P.lists()})}})}(),r=function(){let e=(0,T.NL)();return(0,O.D)({mutationFn:async e=>await window.go.main.App.DeleteNote(e),onMutate:async s=>{await e.cancelQueries({queryKey:P.lists()});let t=e.getQueryData(P.lists());return e.setQueryData(P.lists(),e=>e?e.filter(e=>e.ID!==s.ID):[]),{previousNotes:t}},onError:(s,t,l)=>{(null==l?void 0:l.previousNotes)&&e.setQueryData(P.lists(),l.previousNotes),(0,F.F0)("Failed to delete note: "+s)},onSettled:()=>{e.invalidateQueries({queryKey:P.lists()})}})}(),n=function(){let e=(0,T.NL)();return(0,O.D)({mutationFn:async e=>{let{note:s,column:t,value:l}=e;return await window.go.main.App.UpdateNote(s,t,l)},onMutate:async s=>{let{note:t,column:l,value:a}=s;await e.cancelQueries({queryKey:P.lists()});let r=e.getQueryData(P.lists());return e.setQueryData(P.lists(),e=>e?e.map(e=>e.ID===t.ID?{...e,[l]:a,UpdatedAt:new Date}:e):[]),{previousNotes:r}},onError:(s,t,l)=>{(null==l?void 0:l.previousNotes)&&e.setQueryData(P.lists(),l.previousNotes),(0,F.F0)("Failed to update note: "+s)},onSettled:()=>{e.invalidateQueries({queryKey:P.lists()})}})}(),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),u=async e=>{let s="note "+e.Title+" added";(0,F.Rv)(s+" "+(0,el.WU)(new Date,"yyyy/MM/dd HH:mm:ssxxx")),t.mutate(e,{onSuccess:()=>{R.Am.success("Note added successfully")},onError:()=>{R.Am.error("Note addition failed")}})},x=async e=>{let s="note "+e.Title+" deleted";(0,F.Rv)(s+" "+(0,el.WU)(new Date,"yyyy/MM/dd HH:mm:ssxxx")),r.mutate(e,{onSuccess:()=>{R.Am.success("Note deleted successfully")},onError:()=>{R.Am.error("Note deletion failed")}})},h=async(e,s,t)=>{let l="note "+e.Title+" "+s+" changed to "+t;(0,F.Rv)(l+" "+(0,el.WU)(new Date,"yyyy/MM/dd HH:mm:ssxxx")),n.mutate({note:e,column:s,value:t},{onError:()=>{R.Am.error("Note ".concat(s," update failed"))}})};return(0,l.jsxs)("div",{className:"page",children:[(0,l.jsx)("div",{className:"absolute left-10 top-20 w-72 h-72 rounded-full blur-3xl bg-blue-500/10 animate-float"}),(0,l.jsx)("div",{className:"absolute right-10 bottom-20 w-96 h-96 rounded-full blur-3xl bg-purple-500/10 animate-float-delayed"}),(0,l.jsxs)("div",{className:"relative z-10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400",children:"Study Notes"}),(0,l.jsx)("p",{className:"mt-2 text-gray-400",children:"Generate AI-powered study notes for your courses"})]}),(0,l.jsx)(m,{onAdd:u})]}),(0,l.jsx)(V,{title:"All Notes",notes:e||[],onNoteClick:e=>{i(e),d(!0)},onDelete:x,onEdit:h,isLoading:s}),(0,l.jsx)(et,{noteID:o,isOpen:c,onClose:()=>{d(!1),i(null)},onEdit:h,onDelete:x},o)]})]})}},95186:function(e,s,t){"use strict";t.d(s,{I:function(){return n}});var l=t(57437),a=t(2265),r=t(94508);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,l.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"}},function(e){e.O(0,[1794,9183,3954,2253,5545,6567,5349,4438,5512,5597,2971,2117,1744],function(){return e(e.s=17521)}),_N_E=e.O()}]);